plugins {
    id 'java'
    id 'jacoco'
}

group 'fr.jdossantos'
version '0.9'

sourceCompatibility = 1.8

defaultTasks 'clean', 'test', 'jacocoTestReport'

repositories {
    mavenCentral()
}

dependencies {
    testCompile 'org.testng:testng:7.0.0'
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile 'org.slf4j:slf4j-api:2.0.0-alpha1'
    testCompile 'ch.qos.logback:logback-classic:1.3.0-alpha4'
}

jacocoTestReport {
    reports {
        xml.enabled true
        html.enabled false
    }
}

task testTestNG(type: Test) {
    useTestNG() {
        options.suites 'src/test/resources/testng.xml'
    }
}

test {
    dependsOn 'testTestNG'
    ignoreFailures = true
}

